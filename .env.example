# ============================================
# The North London Planning Intelligence Agent
# Environment Configuration
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# ==================== Application ====================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO
SECRET_KEY=your-secret-key-here-must-be-at-least-32-characters-long

# ==================== OpenAI ====================
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4o
OPENAI_EMBEDDING_MODEL=text-embedding-3-large
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.3

# ==================== Supabase ====================
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ==================== Redis (Optional) ====================
# Used for caching and rate limiting
# Falls back to in-memory if not configured
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# ==================== Rate Limiting ====================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=3600
RATE_LIMIT_CHAT=30
RATE_LIMIT_INGEST=10

# ==================== Lead Capture ====================
LEAD_CAPTURE_ENABLED=true
FREE_QUERIES_LIMIT=2
REQUIRE_EMAIL_AFTER=2

# ==================== Document Processing ====================
CHUNK_SIZE=512
CHUNK_OVERLAP=50
MAX_CHUNKS_PER_QUERY=10
SIMILARITY_THRESHOLD=0.75
MAX_UPLOAD_SIZE_MB=100

# ==================== Search Configuration ====================
HYBRID_SEARCH_ENABLED=true
VECTOR_WEIGHT=0.7
BM25_WEIGHT=0.3
RERANK_ENABLED=true
RERANK_TOP_K=20

# ==================== CORS ====================
API_V1_PREFIX=/api/v1
BACKEND_CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ==================== Monitoring (Optional) ====================
SENTRY_DSN=
ENABLE_METRICS=true
ANALYTICS_ENABLED=true

# ==================== External Integrations (Optional) ====================
SENDGRID_API_KEY=
HUBSPOT_API_KEY=
SLACK_WEBHOOK_URL=

# ==================== Frontend ====================
NEXT_PUBLIC_API_URL=http://localhost:8000
